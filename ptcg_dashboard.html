<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>PTCG æ—¥è¦ç’°å¢ƒå„€è¡¨æ¿</title>
<style>
:root {
  --bg: #0d1117;
  --card: #161b22;
  --border: #30363d;
  --text: #c9d1d9;
  --accent: #58a6ff;
  --green: #3fb950;
  --red: #f85149;
  --yellow: #d29922;
  --muted: #8b949e;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  padding-bottom: 40px;
}
.nav {
  position: sticky;
  top: 0;
  background: rgba(13,17,23,0.95);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  padding: 16px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.nav h1 { font-size: 1.2rem; font-weight: 700; }
.nav h1 span { color: var(--accent); }
.nav .time { color: var(--muted); font-size: 0.85rem; }
.container { max-width: 900px; margin: 0 auto; padding: 16px; }
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
}
.section-title {
  font-size: 0.85rem;
  color: var(--accent);
  text-transform: uppercase;
  font-weight: 700;
  margin-bottom: 14px;
  padding-left: 10px;
  border-left: 3px solid var(--accent);
}
.tier-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 12px;
}
.tier-box {
  background: rgba(0,0,0,0.2);
  border-radius: 10px;
  padding: 14px;
}
.tier-label {
  font-size: 0.75rem;
  text-transform: uppercase;
  font-weight: 700;
  margin-bottom: 10px;
}
.tier-s .tier-label { color: var(--red); }
.tier-a .tier-label { color: var(--accent); }
.tier-b .tier-label { color: var(--muted); }
.deck-list {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}
.deck-tag {
  display: inline-block;
  padding: 5px 10px;
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 600;
  background: rgba(255,255,255,0.08);
}
.tier-s .deck-tag { background: rgba(248,81,73,0.2); color: var(--red); }
.tier-a .deck-tag { background: rgba(88,166,255,0.2); color: var(--accent); }
.tier-b .deck-tag { background: rgba(139,148,158,0.2); color: var(--muted); }
.tech-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.tech-tag {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  background: rgba(63,185,80,0.15);
  color: var(--green);
}
.risk-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
  font-size: 0.85rem;
}
.risk-item:last-child { border-bottom: none; }
.risk-icon { font-size: 1rem; }
.sources { font-size: 0.75rem; color: var(--muted); margin-top: 20px; }
.sources a { color: var(--accent); text-decoration: none; }
.footer { text-align: center; padding: 20px; color: var(--muted); font-size: 0.75rem; }
</style>
</head>
<body>
<div class="nav">
  <h1>ğŸƒ PTCG <span>æ—¥è¦ç’°å¢ƒ</span></h1>
  <span class="time" id="updateTime">Loading...</span>
</div>

<div class="container">
  <!-- Meta é›·é” -->
  <div class="card">
    <div class="section-title">ğŸ“Š Meta é›·é”</div>
    <div class="tier-grid">
      <div class="tier-box tier-s">
        <div class="tier-label">S Tier</div>
        <div class="deck-list" id="sTier">
          <span class="deck-tag">è¼‰å…¥ä¸­...</span>
        </div>
      </div>
      <div class="tier-box tier-a">
        <div class="tier-label">A Tier</div>
        <div class="deck-list" id="aTier">
          <span class="deck-tag">è¼‰å…¥ä¸­...</span>
        </div>
      </div>
      <div class="tier-box tier-b">
        <div class="tier-label">B Tier</div>
        <div class="deck-list" id="bTier">
          <span class="deck-tag">è¼‰å…¥ä¸­...</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ä¸Šå‡è¨Šè™Ÿ -->
  <div class="card">
    <div class="section-title">ğŸ†™ ä¸Šå‡è¨Šè™Ÿ - Tech Cards</div>
    <div class="tech-grid" id="techCards">
      <span class="tech-tag">è¼‰å…¥ä¸­...</span>
    </div>
  </div>

  <!-- æœ€æ–°æƒ…å ± -->
  <div class="card">
    <div class="section-title">ğŸ“° æœ€æ–°æƒ…å ±</div>
    <div id="latestIntel">
      <div style="color: var(--muted);">è¼‰å…¥ä¸­...</div>
    </div>
  </div>

  <!-- é¢¨éšªé›·é” -->
  <div class="card">
    <div class="section-title">âš ï¸ é¢¨éšªé›·é”</div>
    <div class="risk-item">
      <span class="risk-icon">âš ï¸</span>
      <span>åå·®æé†’ï¼šåƒ…çµ±è¨ˆå¯å–å¾—ä¹‹å…¥è³ç‰Œè¡¨ï¼Œå¯èƒ½æœ‰åå·®</span>
    </div>
    <div class="risk-item">
      <span class="risk-icon">ğŸ“</span>
      <span>X.com ç¤¾ç¾¤é¢¨å‘åƒ…ä¾›åƒè€ƒï¼Œéå®˜æ–¹çµ±è¨ˆ</span>
    </div>
  </div>

  <div class="sources">
    <div>è³‡æ–™ä¾†æºï¼š</div>
    <div>â€¢ <a href="https://pokekameshi.com/" target="_blank">Pokekameshi</a></div>
    <div>â€¢ <a href="https://pokecabook.com/" target="_blank">Pokecabook</a></div>
    <div>â€¢ <a href="https://www.pokemon-card.com/" target="_blank">å¯¶å¯å¤¢å¡ç‰Œå®˜æ–¹</a></div>
  </div>
</div>

<div class="footer">
  è‡ªå‹•æ›´æ–° â€¢ è³‡æ–™å¯èƒ½æœ‰äº›è¨±åå·®
</div>

<script>
async function loadDashboard() {
  try {
    const resp = await fetch('dashboard.json');
    const data = await resp.json();
    
    // Update time
    const now = new Date(data.generated_at);
    document.getElementById('updateTime').textContent = now.toLocaleString('zh-TW', {timeZone: 'Asia/Taipei'});
    
    // Tiers
    const tiers = data.meta_radar || {};
    document.getElementById('sTier').innerHTML = (tiers.S || []).map(d => `<span class="deck-tag">${d}</span>`).join('') || '<span class="deck-tag">ç„¡è³‡æ–™</span>';
    document.getElementById('aTier').innerHTML = (tiers.A || []).map(d => `<span class="deck-tag">${d}</span>`).join('') || '<span class="deck-tag">ç„¡è³‡æ–™</span>';
    document.getElementById('bTier').innerHTML = (tiers.B || []).map(d => `<span class="deck-tag">${d}</span>`).join('') || '<span class="deck-tag">ç„¡è³‡æ–™</span>';
    
    // Tech Cards
    const tech = data.rising_signals || [];
    document.getElementById('techCards').innerHTML = tech.map(t => `<span class="tech-tag">${t.card || t}</span>`).join('') || '<span class="tech-tag">ç„¡è³‡æ–™</span>';
    
    // Latest Intel
    const intel = data.latest_intel || [];
    document.getElementById('latestIntel').innerHTML = intel.length ? intel.map(i => `<div>â€¢ ${i.content}</div>`).join('') : '<div style="color:var(--muted)">ç„¡æœ€æ–°æƒ…å ±</div>';
    
  } catch(e) {
    console.error(e);
    document.getElementById('updateTime').textContent = 'Error';
  }
}
loadDashboard();
</script>
</body>
</html>
